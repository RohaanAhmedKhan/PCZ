@model PCZ.ViewModels.IssuesVM
@{
    ViewBag.Title = "Prices";
}

<style>
    table tbody tr:hover {
        background-color: rgba(224,23,5, 0.8) !important;
        color: white !important;
    }
</style>



<div class="container">
    <div class="row">
        <div class="col-5 mx-auto">
            <form action="/Price/Index" method="get" style="display:flex">
                <label style="margin:auto 1px auto 1px">Device Type :</label> @Html.DropDownList("cat", Model.CategoryList, new { @class = "dropdown", @style = "width: fit-content; margin:auto 5px auto 5px" })
                <input type="submit" value="Get Prices" class="btn-primary btn" style="margin:auto 1px auto 1px; height:70% !important; padding: 10px 12px 10px 12px !important; border-radius:60px" />
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12" style="border:1px solid #dcd3d3; padding:2px ">
            <table class="table table-hover table-stripped" id="dtTbl">
                <thead>
                    <tr>
                        <th>Device</th>
                        <th>Brand</th>
                        <th>Issue</th>
                        <th>Price</th>
                        <th>Return Time</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Issues)
                    {
                        <tr>
                            <td>@item.Device.Name</td>
                            <td>@item.Device.Brand.Name</td>
                            <td>@item.Description</td>
                            <td>@item.Price.ToString("N0")</td>
                            <td>@item.DeliveryTime</td>
                        </tr>
                    }
                </tbody>
                <tfoot></tfoot>
            </table>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If you can't find price please <a href="/home/index#contact-us" style="color:black; text-decoration:underline; font-weight:bold;">contact-us</a> for instant quote of your device problem.
        </div>
        
    </div>
</div>

@section scripts{
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/zf-6.4.3/dt-1.10.22/datatables.min.css" />
    <script type="text/javascript" src="https://cdn.datatables.net/v/zf-6.4.3/dt-1.10.22/datatables.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#dtTbl').DataTable({
                "scrollY": "75vh",
                "scrollCollapse": true,
                "paging": true,
                "language": {
                    "lengthMenu": "Items per page: _MENU_ ",
                    "zeroRecords": "Nothing found - sorry",
                    "infoEmpty": "No records available"
                },
                dom: 'Blfrtip'
            });

            
        });
    </script>
    
}